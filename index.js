/* global SVG */

function elastic(pos) {
    if (pos == !!pos) return pos;
    return Math.pow(2, -10 * pos) * Math.sin((pos - 0.075) * (2 * Math.PI) / .3) + 1;
}

function bounceOut(pos) {
    if ((pos) < (1 / 2.75)) {
        return (7.5625 * pos * pos);
    } else if (pos < (2 / 2.75)) {
        return (7.5625 * (pos -= (1.5 / 2.75)) * pos + .75);
    } else if (pos < (2.5 / 2.75)) {
        return (7.5625 * (pos -= (2.25 / 2.75)) * pos + .9375);
    } else {
        return (7.5625 * (pos -= (2.625 / 2.75)) * pos + .984375);
    }
}

(function() {
    let svg = SVG('logo').size('100vw', '100vh');

    let color = {
        base: '#fe5f55',
        white: '#eef5db'
    };

    let base,
        curlyLeft,
        curlyRight,
        textFname,
        textLname,
        textPrefix,
        textSuffix;

    base = svg.path('M496.488, 397.731c0-25.134, 0-50.161, 0-75.296c-0.001-1.53-0.328-2.186-2.076-2.076 c-21.42, 0-42.73, 0-64.15, 0c-1.095, 0-2.077, 0.437-2.732, 1.312c-20.765, 24.916-41.528, 49.725-62.401, 74.532 c-0.875, 1.092-0.984, 1.748-0.001, 2.842c20.764, 24.807, 41.528, 49.615, 62.293, 74.533c0.765, 0.982, 1.857, 1.528, 3.169, 1.42 c21.093, 0, 42.294, 0, 63.386, 0c2.405, 0, 2.405, 0, 2.404-2.405C496.487, 447.676, 496.487, 422.651, 496.488, 397.731L496.488, 397.731z M116.064, 397.622c0, 24.81, 0.001, 49.728, 0, 74.534c0, 2.732, 0, 2.732, 2.622, 2.732c20.983, 0, 42.076, 0, 63.06, 0 c1.421, 0.109, 2.622-0.436, 3.387-1.64c20.655-24.807, 41.309-49.506, 61.965-74.204c0.982-1.094, 0.983-1.751-0.001-2.952 c-20.654-24.698-41.309-49.397-61.964-74.205c-0.874-1.203-2.076-1.748-3.607-1.639c-20.983, 0-42.075, 0-63.057, 0 c-2.514, 0-2.514, 0-2.514, 2.514C116.065, 347.789, 116.064, 372.706, 116.064, 397.622z M306.221, 476.747l-6.667, 8.087 c-14.316, 17.377-28.523, 34.972-43.058, 52.238c-15.628, 18.688-35.628, 30.053-59.562, 34.644c-7.322, 1.421-14.644, 2.077-22.184, 2.076 c-29.507, 0.001-59.014, 0.655-88.412-0.326c-26.885-0.876-48.632-12.352-62.512-36.395c-4.809-8.523-7.651-17.596-8.415-27.321 c-0.329-3.388-0.438-6.886-0.438-10.272c0-67.866, 0-135.733, 0-203.599c0.001-14.645, 2.951-28.305, 10.819-40.764 c10.492-16.393, 25.574-26.338, 44.26-31.037c6.559-1.64, 13.334-2.514, 20.109-2.514c29.18, 0.001, 58.359-0.437, 87.539, 0.11 c32.458, 0.656, 59.779, 13.114, 80.544, 38.578c15.41, 18.796, 30.928, 37.594, 46.337, 56.392c0.436, 0.545, 0.984, 1.202, 1.638, 1.858 c0.547-0.546, 0.984-0.984, 1.312-1.531c16.175-19.562, 32.13-39.343, 48.414-58.795c15.628-18.688, 35.736-30.053, 59.67-34.535 c7.322-1.419, 14.862-2.076, 22.294-2.077c29.07, 0, 58.14-0.437, 87.21, 0.22c22.841, 0.546, 42.513, 9.07, 57.156, 27.321 c7.869, 9.835, 12.677, 20.984, 14.207, 33.441c0.546, 4.262, 0.874, 8.524, 0.875, 12.896c-0.001, 68.194, 0.109, 136.281, 0.109, 204.474 c-0.001, 14.426-3.062, 28.086-10.819, 40.437c-10.383, 16.284-25.354, 26.118-43.935, 30.927c-6.665, 1.749-13.44, 2.625-20.327, 2.514 c-29.396, 0.001-58.794, 0.438-88.193-0.218c-32.348-0.656-59.45-13.442-80.105-38.688c-15.409-18.798-30.819-37.594-46.338-56.392 C307.314, 477.949, 306.876, 477.402, 306.221, 476.747z');
    base.opacity(0).scale(-.05).rotate(-5).animate(600, bounceOut, 200).rotate(0).scale(1).opacity(1);
    base.fill(color.base);

    curlyLeft = svg.path('M183.493,352.597c0,1.421-0.109,2.841-0.219,4.262 c-0.218,0.656-0.655,0.983-1.202,1.202c-0.655,0.109-1.42,0.109-2.076,0.109c-3.716,0-5.574,1.531-5.792,5.354 c-0.219,3.389-0.328,6.886-0.329,10.273c-0.109,3.825,0,7.54,0,11.366c-0.109,5.246-2.294,9.29-7.103,11.693 c-0.328,0.217-0.765,0.436-1.093,0.656c0.22,0.217,0.547,0.436,0.875,0.547c5.027,1.967,7.104,6.009,7.322,11.036 c0.219,6.23,0,12.459,0.109,18.579c0,1.967,0.328,3.936,0.875,5.902c0.655,2.404,1.967,3.169,4.481,3.169h0.327 c4.153-0.001,4.153-0.001,3.715,4.044c0,0.438-0.655,1.202-1.092,1.201c-1.967,0.22-3.934,0.11-5.792-0.108 c-5.792-0.874-9.727-5.683-9.727-11.804c0-6.229,0.109-12.457-0.109-18.579c-0.111-2.074-0.656-4.151-1.422-6.119 c-0.874-2.405-2.622-3.934-5.135-4.59c-0.438,0.001-0.767-0.219-1.093-0.546c-0.219-0.329-0.329-0.766-0.328-1.203 c0-0.655,0-1.313,0-1.968c-0.219-1.638,0.328-2.513,2.076-3.168c4.373-1.967,5.684-5.901,5.901-10.273 c0.219-6.229,0-12.568,0.11-18.798c0.109-4.481,1.859-8.306,5.792-10.71c1.202-0.655,2.404-1.092,3.716-1.42 c0.11-0.001,0.219,0,0.438-0.109C178.903,352.598,181.199,352.598,183.493,352.597z');

    curlyRight = svg.path('M435.724,352.597c0.329,0,0.656,0,0.874,0.109 c0.657,0.219,1.422,0.437,1.969,0.655c4.371,1.64,7.214,6.23,7.32,11.584c0,6.229,0.001,12.568,0,18.797 c-0.108,3.169,0.985,6.011,3.171,8.307c0.983,0.983,2.076,1.639,3.277,2.076c1.094,0.436,1.531,1.093,1.422,2.294 c0.001,0.33,0,0.546-0.001,0.874c0.219,1.968-0.217,3.062-2.403,4.044c-4.044,1.75-5.355,5.683-5.465,9.837 c-0.109,6.012,0.109,12.021-0.108,18.032c-0.109,2.514-0.656,4.918-1.749,7.323c-1.749,3.714-5.027,5.463-9.181,5.572 c-1.529,0.11-2.951,0.109-4.371-0.108c-0.437-0.001-0.874-0.766-1.311-1.202c-0.11-0.111-0.001-0.22-0.001-0.328 c0-4.371-0.438-3.716,3.389-3.716c3.716-0.002,5.573-1.64,5.792-5.355c0.218-3.388,0.219-6.667,0.327-10.055 c0.109-3.825,0-7.65-0.001-11.475c0.109-5.247,2.405-9.29,7.214-11.695c0.219-0.108,0.437-0.219,0.655-0.327 c0.11-0.11,0.11-0.219,0.22-0.438c-0.219-0.219-0.547-0.327-0.766-0.545c-4.919-1.969-7.103-5.903-7.213-10.929 c-0.219-6.12,0-12.24-0.11-18.47c0.002-1.967-0.217-3.825-0.654-5.792c-0.655-2.623-2.075-3.607-4.81-3.606 c-3.824,0-3.824,0-3.933-3.934c-0.001-0.547-0.11-1.093-0.11-1.53C431.244,352.598,433.43,352.598,435.724,352.597z');

    curlyLeft.fill(color.white).opacity(0).back().dx(100);
    curlyRight.fill(color.white).opacity(0).back().dx(-100);

    curlyLeft.animate(1000, elastic, 1000).dx(-100).opacity(1);
    curlyRight.animate(1000, elastic, 1000).dx(100).opacity(1);

    textFname = svg.group().fill(color.white);
    textLname = svg.group().fill(color.white);

    let fM0 = svg.path('M225.191,308.506l-1.655-2.173l9.022-7.275l-5.885,2.554l-1.322-1.63l3.79-5.164l-9.021,7.276 l-1.655-2.174l13.37-10.803l1.983,2.5l-4.654,6.589l7.411-3.112l2.093,2.5L225.191,308.506z'),
        fA0 = svg.path('M233.567,318.831l2.381-3.515l-3.636-4.345l-3.923,1.668l-1.763-2.176l16.674-6.781l1.985,2.391 l-9.843,15.04L233.567,318.831z M234.708,309.861l2.645,3.261l4.111-6.148L234.708,309.861z'),
        fT0 = svg.path('M252.625,324.82l-1.542-1.848l2.933-2.423l-1.432-1.74l-9.456,7.825l1.764,2.064l-1.847,1.543 l-5.18-6.304l1.847-1.542l1.763,2.065l9.455-7.825l-1.543-1.848l-2.934,2.425l-1.542-1.847l4.781-3.969l7.824,9.456 L252.625,324.82z'),
        fT1 = svg.path('M261.991,336.122l-1.542-1.849l2.934-2.424l-1.432-1.739l-9.455,7.714l1.762,2.066l-1.846,1.541 l-5.182-6.3l1.85-1.544l1.761,2.064l9.455-7.824l-1.543-1.848l-2.934,2.424l-1.543-1.847l4.782-3.967l7.825,9.454 L261.991,336.122z'),
        fI0 = svg.path('M261.67,352.844l-5.289-6.302l1.848-1.542l1.763,2.063l9.455-7.824l-1.763-2.064l1.847-1.542l5.289,6.302 l-1.847,1.542l-1.763-2.174l-9.455,7.825l1.765,2.173L261.67,352.844z'),
        fA1 = svg.path('M270.925,364.039l2.381-3.514l-3.637-4.346l-3.921,1.665l-1.764-2.174l16.674-6.78l1.985,2.39 l-9.843,15.042L270.925,364.039z M271.959,355.179l2.646,3.259l4.109-6.147L271.959,355.179z'),
        fS0 = svg.path('M284.982,373.778c-0.652,0.552-1.195,0.882-1.851,0.996c-0.653,0.222-1.31,0.228-1.856,0.122 c-0.658-0.104-1.206-0.319-1.754-0.643c-0.548-0.325-1.097-0.759-1.538-1.301c-0.55-0.653-0.884-1.306-1.107-1.961 c-0.222-0.653-0.118-1.419,0.095-2.186l-1.196,0.992l-1.542-1.847l4.347-3.528l1.542,1.847c-0.435,0.332-0.76,0.772-0.975,1.209 c-0.216,0.439-0.322,0.877-0.319,1.315c0.003,0.437,0.006,0.874,0.229,1.31c0.112,0.437,0.332,0.871,0.661,1.198 c0.553,0.652,1.101,0.975,1.649,1.191c0.656,0.103,1.203-0.009,1.854-0.559c0.328-0.222,0.544-0.55,0.651-0.881 c0.106-0.327,0.214-0.657,0.212-0.984c-0.003-0.328-0.006-0.764-0.228-1.2c-0.112-0.437-0.225-0.874-0.447-1.418 c-0.224-0.654-0.445-1.2-0.667-1.853c-0.224-0.655-0.338-1.309-0.342-1.856c-0.004-0.655,0.101-1.203,0.316-1.86 c0.213-0.545,0.646-1.206,1.299-1.756c0.542-0.442,1.196-0.773,1.742-0.887c0.655-0.114,1.201-0.119,1.749-0.013 c0.546,0.105,1.204,0.32,1.643,0.646c0.549,0.323,0.989,0.757,1.43,1.301c0.551,0.652,0.773,1.197,0.887,1.852 c0.115,0.654,0.008,1.312-0.207,1.858l1.196-0.991l1.543,1.847l-4.13,3.417l-1.543-1.848c0.76-0.661,1.193-1.32,1.298-2.085 c0.104-0.765-0.12-1.529-0.671-2.181c-0.55-0.652-1.1-0.976-1.646-1.191c-0.658-0.215-1.204,0.009-1.748,0.341 c-0.217,0.22-0.434,0.439-0.541,0.767c-0.108,0.221-0.105,0.548-0.103,0.875c0.003,0.328,0.113,0.656,0.227,1.092 c0.112,0.437,0.224,0.873,0.445,1.417c0.223,0.655,0.446,1.308,0.67,1.962c0.223,0.654,0.228,1.311,0.232,1.966 c0.005,0.654-0.101,1.313-0.424,1.97C286.177,372.568,285.634,373.227,284.982,373.778z');

    textFname.add(fM0).add(fA0).add(fT0).add(fT1).add(fI0).add(fA1).add(fS0);

    textFname.opacity(0);

    textFname.animate(800, elastic, 1800).opacity(1);

    textLname = svg.path('');

    textPrefix = svg.path('');

    textSuffix = svg.path('');
})();
